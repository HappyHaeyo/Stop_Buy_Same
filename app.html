<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Lip Archive</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex items-center justify-center h-screen p-4 md:p-8">

    <div class="w-full max-w-7xl h-full flex gap-4">
        
        <aside class="w-24 flex-none flex flex-col items-center pt-8 z-20">
            <div class="mb-8 w-16 h-16 bg-white border-3 border-black flex flex-col items-center justify-center shadow-[4px_4px_0px_#000]">
                <span class="text-3xl">üíÑ</span>
            </div>

            <nav class="flex flex-col gap-4">
                <button onclick="switchTab('home')" id="tab-home" class="folder-tab active">
                    <div class="folder-icon-box"><i data-lucide="home" class="w-6 h-6"></i></div>
                    <span>HOME</span>
                </button>
                <button onclick="switchTab('list')" id="tab-list" class="folder-tab">
                    <div class="folder-icon-box"><i data-lucide="folder-open" class="w-6 h-6"></i></div>
                    <span>POUCH</span>
                </button>
                <button onclick="switchTab('analyze')" id="tab-analyze" class="folder-tab">
                    <div class="folder-icon-box"><i data-lucide="pie-chart" class="w-6 h-6"></i></div>
                    <span>DATA</span>
                </button>
                <button onclick="switchTab('deco')" id="tab-deco" class="folder-tab">
                    <div class="folder-icon-box"><i data-lucide="sparkles" class="w-6 h-6"></i></div>
                    <span>DECO</span>
                </button>
            </nav>
        </aside>

        <main class="flex-1 flex flex-col gap-6 h-full overflow-hidden relative">
            
            <header class="pixel-window pink p-4 flex justify-between items-center shrink-0">
                <div class="flex items-center gap-3">
                    <div class="win-btns">
                        <div class="win-btn"></div><div class="win-btn"></div><div class="win-btn"></div>
                    </div>
                    <h1 class="text-xl font-bold ml-2">Smart Lip Collector.exe</h1>
                </div>
                <div class="text-xs bg-white border-2 border-black px-2 py-1 shadow-[2px_2px_0px_#000]">
                    TOTAL: <span id="headerTotalCount" class="text-rose-500 font-bold">0</span>
                </div>
            </header>

            <section id="view-home" class="fade-in flex-1 flex flex-col gap-6 overflow-hidden">
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 h-80 shrink-0">
                    
                    <div class="pixel-window pink flex flex-col">
                        <div class="window-title-bar">
                            <span>üìä Color Statistics</span>
                            <div class="win-btns"><div class="win-btn"></div></div>
                        </div>
                        <div class="p-4 flex-1 relative min-h-0">
                            <canvas id="personalColorChart"></canvas>
                        </div>
                        <div id="analysisText" class="px-4 pb-4 text-xs text-center">Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Ï§ë...</div>
                    </div>

                    <div class="pixel-window flex flex-col">
                        <div class="window-title-bar">
                            <span>üéØ Tone Map</span>
                            <div class="win-btns"><div class="win-btn"></div></div>
                        </div>
                        <div class="p-4 flex-1 relative min-h-0 bg-gray-50">
                            <div class="absolute inset-0 p-4 z-10"><canvas id="scatterChart"></canvas></div>
                            <div class="absolute inset-0 flex justify-between flex-col p-6 opacity-30 pointer-events-none">
                                <div class="flex justify-between"><span class="text-orange-500 text-xs">SPRING</span><span class="text-purple-500 text-xs">SUMMER</span></div>
                                <div class="flex justify-between"><span class="text-amber-700 text-xs">AUTUMN</span><span class="text-rose-700 text-xs">WINTER</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pixel-window pink flex-1 flex flex-col min-h-0 overflow-y-auto">
                    <div class="window-title-bar">
                        <span>‚ûï Register New Item</span>
                        <div class="win-btns"><div class="win-btn"></div></div>
                    </div>
                    
                    <div class="p-6 flex flex-col md:flex-row gap-6 items-center h-full">
                        <label class="w-40 h-40 bg-white border-3 border-black flex-none flex flex-col items-center justify-center cursor-pointer shadow-[4px_4px_0px_rgba(0,0,0,0.1)] hover:scale-105 transition group relative">
                            <img id="imagePreview" class="absolute inset-0 w-full h-full object-cover hidden opacity-80 border-2 border-white">
                            <i data-lucide="camera" class="w-8 h-8 text-gray-300 group-hover:text-rose-500 mb-2"></i>
                            <span class="text-xs text-gray-400 font-bold">PHOTO</span>
                            <input type="file" id="imageInput" accept="image/*" class="hidden">
                        </label>

                        <div class="flex-1 w-full space-y-3">
                            <div class="grid grid-cols-2 gap-4">
                                <input type="text" id="inputBrand" placeholder="Î∏åÎûúÎìú (Brand)" class="pixel-input w-full">
                                <input type="text" id="inputName" placeholder="Ï†úÌíàÎ™Ö (Name)" class="pixel-input w-full">
                            </div>
                            
                            <div class="flex gap-2">
                                <div class="w-12 flex-none border-3 border-black relative overflow-hidden bg-white shadow-[4px_4px_0px_#ddd]">
                                    <input type="color" id="inputHex" class="absolute -top-2 -left-2 w-16 h-16 cursor-pointer" value="#ff0000">
                                </div>
                                <input type="text" id="inputColorName" placeholder="Ïª¨Îü¨Î™Ö (Color Name)" class="pixel-input w-full">
                            </div>

                            <div class="flex gap-2">
                                <select id="inputPersonalColor" class="pixel-input w-full cursor-pointer">
                                    <option value="" disabled selected>üé® ÌçºÏä§ÎÑê Ïª¨Îü¨ ÏÑ†ÌÉù</option>
                                    <option value="Î¥Ñ Ïõú ÎùºÏù¥Ìä∏">üå∏ Î¥Ñ Ïõú ÎùºÏù¥Ìä∏</option>
                                    <option value="Î¥Ñ Ïõú Î∏åÎùºÏù¥Ìä∏">üå∫ Î¥Ñ Ïõú Î∏åÎùºÏù¥Ìä∏</option>
                                    <option value="Ïó¨Î¶Ñ Ïø® ÎùºÏù¥Ìä∏">üçß Ïó¨Î¶Ñ Ïø® ÎùºÏù¥Ìä∏</option>
                                    <option value="Ïó¨Î¶Ñ Ïø® Î∏åÎùºÏù¥Ìä∏">üçâ Ïó¨Î¶Ñ Ïø® Î∏åÎùºÏù¥Ìä∏</option>
                                    <option value="Ïó¨Î¶Ñ Ïø® ÎÆ§Ìä∏">üå´Ô∏è Ïó¨Î¶Ñ Ïø® ÎÆ§Ìä∏</option>
                                    <option value="Í∞ÄÏùÑ Ïõú ÎÆ§Ìä∏">üçÇ Í∞ÄÏùÑ Ïõú ÎÆ§Ìä∏</option>
                                    <option value="Í∞ÄÏùÑ Ïõú Îî•">üçÅ Í∞ÄÏùÑ Ïõú Îî•</option>
                                    <option value="Í∞ÄÏùÑ Ïõú Îã§ÌÅ¨">‚òï Í∞ÄÏùÑ Ïõú Îã§ÌÅ¨</option>
                                    <option value="Í≤®Ïö∏ Ïø® Î∏åÎùºÏù¥Ìä∏">üçí Í≤®Ïö∏ Ïø® Î∏åÎùºÏù¥Ìä∏</option>
                                    <option value="Í≤®Ïö∏ Ïø® Îî•">üç∑ Í≤®Ïö∏ Ïø® Îî•</option>
                                    <option value="Í≤®Ïö∏ Ïø® Îã§ÌÅ¨">üñ§ Í≤®Ïö∏ Ïø® Îã§ÌÅ¨</option>
                                    <option value="Ïûò Î™®Î¶Ñ">ü§î Ïûò Î™®Î•¥Í≤†Ïùå</option>
                                </select>
                                <button id="addBtn" class="pixel-btn w-24">SAVE</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="view-list" class="hidden fade-in h-full flex flex-col">
                <div class="pixel-window h-full flex flex-col">
                    <div class="window-title-bar">
                        <span>üëú My Pouch List</span>
                        <div class="flex gap-2">
                            <button onclick="filterBy('all')" class="filter-chip active">ALL</button>
                            <button onclick="filterBy('Î¥Ñ')" class="filter-chip">Î¥Ñ</button>
                            <button onclick="filterBy('Ïó¨Î¶Ñ')" class="filter-chip">Ïó¨Î¶Ñ</button>
                            <button onclick="filterBy('Í∞ÄÏùÑ')" class="filter-chip">Í∞ÄÏùÑ</button>
                            <button onclick="filterBy('Í≤®Ïö∏')" class="filter-chip">Í≤®Ïö∏</button>
                        </div>
                    </div>
                    <div id="lipstickGrid" class="p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 overflow-y-auto">
                        </div>
                </div>
            </section>

            <section id="view-analyze" class="hidden fade-in h-full flex flex-col items-center justify-center">
                <div class="pixel-window p-8 max-w-lg w-full text-center bg-[#FFF9C4]">
                    <h2 class="text-2xl mb-4">üíæ DATA MANAGER</h2>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <button id="downloadBtn" class="pixel-btn bg-white">Î∞±ÏóÖ Ï†ÄÏû•</button>
                        <label class="pixel-btn bg-white cursor-pointer block pt-2">
                            Î∂àÎü¨Ïò§Í∏∞ <input type="file" id="csvUpload" accept=".csv" class="hidden">
                        </label>
                        <button id="sampleBtn" class="pixel-btn bg-white">ÏÉòÌîå Ï∂îÍ∞Ä</button>
                        <button id="resetBtn" class="pixel-btn bg-red-100">Ï¥àÍ∏∞Ìôî</button>
                    </div>
                </div>
            </section>

            <section id="view-deco" class="hidden fade-in h-full flex flex-col items-center justify-center">
                <div class="pixel-window p-10 text-center">
                    <div class="text-6xl animate-bounce mb-4">üöß</div>
                    <h2 class="text-2xl">COMING SOON...</h2>
                </div>
            </section>

        </main>
    </div>

    <script>
        function switchTab(tabName) {
            ['home', 'list', 'analyze', 'deco'].forEach(name => {
                document.getElementById('view-' + name).classList.add('hidden');
                document.getElementById('tab-' + name).classList.remove('active');
            });
            document.getElementById('view-' + tabName).classList.remove('hidden');
            document.getElementById('tab-' + tabName).classList.add('active');
            if(tabName === 'home') setTimeout(() => window.dispatchEvent(new Event('resize')), 100);
        }
    </script>

    <script src="script.js"></script>
</body>
</html>
